def mejor_ajuste(procesos, memoria):
    print("\n======================= Mejor Ajuste =======================")
    
    # Lista para rastrear el espacio restante en cada bloque de memoria
    espacio_restante = memoria[:]
    asignados = [False] * len(procesos)  # Para verificar qué procesos han sido asignados
    procesos_asignados = 0  # Contador de procesos asignados
    
    for i, proceso in enumerate(procesos):
        asignado = False
        mejor_bloque = -1  # Indica el bloque con el mejor ajuste
        menor_despilfarro = float('inf')  # Comienza con un valor muy alto para el despilfarro
        
        for j, bloque in enumerate(espacio_restante):
            if bloque >= proceso:  # Verificar si hay suficiente espacio
                despilfarro = bloque - proceso  # Calcular el desperdicio en ese bloque
                if despilfarro < menor_despilfarro:  # Si el despilfarro es el menor, es el mejor bloque
                    mejor_bloque = j
                    menor_despilfarro = despilfarro

        # Si encontramos un bloque que puede alojar el proceso
        if mejor_bloque != -1:
            print(f"Proceso {proceso}MB asignado al bloque {mejor_bloque+1}. Espacio restante antes: {espacio_restante[mejor_bloque]}MB")
            espacio_restante[mejor_bloque] -= proceso  # Reducir el espacio restante en el bloque
            print(f"Espacio restante después: {espacio_restante[mejor_bloque]}MB")
            asignados[i] = True
            procesos_asignados += 1
        else:
            print(f"Proceso {proceso}MB no pudo ser asignado (no hay suficiente espacio en ningún bloque).")
    
    # Calcular métricas
    memoria_utilizada = sum(memoria) - sum(espacio_restante)  # Memoria utilizada por los procesos
    fragmentacion_externa = sum(espacio_restante)  # Espacio no utilizado
    porcentaje_uso_memoria = (memoria_utilizada / sum(memoria)) * 100
    trabajos_postergados = len(procesos) - procesos_asignados
    nivel_multiprogramacion = procesos_asignados  # Número de procesos asignados a la memoria

    # Mostrar resultados
    print("\n======================= Resultados =======================")
    print(f"Fragmentación externa: {fragmentacion_externa}MB")
    print(f"Porcentaje de uso de memoria: {porcentaje_uso_memoria:.2f}%")
    print(f"Nivel de multiprogramación: {nivel_multiprogramacion}")
    print(f"Trabajos postergados: {trabajos_postergados}")
    
    for i, espacio in enumerate(espacio_restante):
        print(f"Bloque {i+1}: Espacio restante: {espacio}MB")

# Definir las listas 'procesos' y 'memoria'
procesos = [10, 10, 10, 10, 10]
memoria = [50, 100, 180, 250, 100]

# Llamar a la función con las listas definidas
mejor_ajuste(procesos, memoria)

#procesos = [72, 72, 26, 82, 10, 12, 31, 80, 52, 54, 42, 71, 24, 36, 52, 65, 46, 55, 79, 44, 85, 24, 88, 74, 86, 84, 32, 82, 79, 30, 50, 38, 71, 35, 33, 36, 31, 57, 49, 58, 62, 13, 62, 51, 22, 70, 73, 36, 50, 53, 37, 70, 47, 84, 26, 81, 16, 35, 69, 39, 81, 76, 29, 90, 88, 58, 29, 87, 21, 22, 13, 42, 28, 40, 35, 14, 36, 31, 41, 33, 13, 78, 20, 70, 39, 85, 27, 86, 17, 12, 47, 62, 39, 61, 53, 54, 60, 27, 84, 25, 80, 65, 21, 26, 41, 79, 50, 72, 87, 31, 54, 34, 90, 15, 59, 36, 69, 14, 59, 22, 51, 38, 74, 54, 70, 90, 16, 72, 20, 62, 69, 73, 29, 14, 14, 51, 12, 72, 44, 29, 56, 18, 38, 65, 84, 90, 13, 87, 62, 88, 54, 57, 83, 76, 10, 49, 68, 57, 14, 68, 71, 74, 88, 86, 75, 10, 76, 17, 70, 44, 64, 23, 31, 54, 57, 44, 35, 42, 62, 10, 59, 43, 79, 56, 70, 37, 77, 58, 67, 35, 19, 46, 58, 43, 26, 83, 22, 41, 80, 67, 50, 78, 45, 70, 69, 79, 73, 82, 32, 24, 58, 44, 69, 55, 72, 13, 85, 31, 61, 72, 74, 44, 35, 37, 64, 66, 55, 35, 72, 34, 75, 39, 86, 89, 31, 17, 79, 16, 29, 54, 40, 87, 24, 27, 13, 28, 82, 56, 30, 70, 82, 30, 69, 79, 37, 16, 45, 42, 13, 71, 28, 29, 81, 68, 33, 38, 44, 51, 40, 62, 67, 88, 57, 37, 34, 20, 41, 49, 67, 72, 73, 25, 46, 60, 13, 32, 63, 89, 57, 41, 37, 82, 15, 88, 43, 52, 45, 82, 86, 88, 86, 66, 48, 78, 13, 64, 84, 47, 70, 54, 52, 20, 67, 76, 23, 38, 24, 38, 82, 51, 21, 58, 83, 43, 71, 38, 19, 76, 28, 65, 88, 80, 57, 58, 52, 33, 55, 34, 67, 55, 62, 33, 90, 11, 68, 83, 76, 61, 35, 77, 10, 55, 68, 84, 29, 79, 64, 39, 81, 15, 49, 68, 40, 65, 69, 39, 44, 86, 50, 60, 78, 88, 90, 62, 67, 31, 83, 34, 31, 50, 24, 26, 68, 74, 11, 32, 33, 17, 12, 30, 69, 25, 29, 13, 76, 44, 40, 39, 16, 39, 19, 55, 48, 39, 31, 65, 27, 40, 36, 38, 27, 59, 85, 70, 39, 13, 75, 65, 50, 47, 10, 18, 54, 17, 68, 80, 49, 22, 47, 67, 65, 55, 88, 56, 38, 38, 55, 43, 19, 55, 53, 62, 51, 78, 41, 47, 25, 30, 63, 28, 18, 54, 88, 66, 78, 21, 83, 10, 42, 11, 62, 19, 70, 84, 57, 90, 82, 81, 49, 89, 34, 35, 61, 82, 42, 77, 37, 20, 58, 85, 61, 56, 55, 55, 78, 40, 14, 21, 28, 89, 27, 68, 81, 67, 76, 21, 69, 75, 54, 74, 90, 11, 79, 57, 90, 68, 46, 52, 41, 17, 47, 31, 36, 31, 38, 31, 55, 72, 17, 23, 21, 79, 11, 14, 50, 40, 39, 73, 12, 80, 27, 23, 62, 62, 32, 67, 87, 74, 10, 82, 14, 82, 40, 12, 13, 36, 79, 22, 63, 89, 76, 76, 15, 36, 19, 17, 68, 37, 40, 86, 11, 15, 11, 20, 44, 48, 12, 34, 13, 29, 32, 89, 34, 55, 75, 58, 74, 50, 24, 18, 88, 33, 31, 87, 46, 89, 41, 80, 19, 74, 77, 48, 71, 31, 74, 84, 68, 72, 13, 90, 18, 68, 59, 85, 41, 84, 63, 13, 58, 55, 73, 46, 45, 22, 73, 62, 59, 59, 41, 71, 78, 23, 40, 35, 61, 35, 51, 56, 20, 16, 45, 34, 64, 62, 79, 80, 41, 75, 46, 18, 43, 22, 69, 58, 85, 76, 22, 30, 48, 51, 80, 19, 18, 71, 36, 15, 12, 70, 64, 39, 28, 23, 16, 58, 71, 34, 73, 58, 89, 80, 43, 71, 33, 37, 40, 58, 80, 74, 76, 30, 65, 52, 90, 13, 37, 66, 17, 60, 82, 60, 87, 56, 63, 76, 40, 23, 24, 56, 76, 37, 33, 77, 33, 35, 42, 59, 50, 61, 37, 39, 27, 84, 22, 15, 57, 14, 71, 80, 68, 71, 58, 31, 86, 89, 61, 44, 26, 60, 74, 39, 87, 24, 36, 39, 75, 25, 14, 79, 25, 38, 17, 67, 11, 63, 47, 50, 75, 52, 64, 57, 88, 50, 53, 13, 36, 27, 55, 65, 62, 88, 21, 10, 12, 66, 25, 44, 61, 78, 61, 82, 59, 63, 12, 58, 88, 26, 46, 49, 27, 39, 14, 59, 90, 42, 18, 10, 88, 58, 29, 80, 20, 29, 54, 22, 33, 12, 51, 64, 73, 11, 32, 22, 87, 77, 49, 12, 82, 22, 36, 10, 77, 48, 10, 44, 32, 55, 65, 76, 15, 64, 54, 25, 42, 33, 86, 32, 82, 12, 10, 39, 28, 72, 37, 54, 69, 83, 12, 87, 70, 88, 10, 16, 51, 86, 49, 37, 25, 79, 57, 76, 12, 16, 54, 77, 36, 45, 14, 14, 17, 43, 62, 67, 18, 64, 60, 55, 90, 30, 54, 36, 15, 53, 19, 33, 43, 84, 76, 85, 70, 79, 87, 21, 36, 84, 27, 16, 40, 62, 85, 42, 83, 19, 14, 24, 36, 24, 30, 15, 76, 41, 89, 21, 59, 39, 26, 34, 57, 21, 15, 21, 86, 13, 54, 13, 67, 64, 27, 83, 53, 64, 46, 53, 78, 11, 51, 78, 17, 16, 87, 25, 15, 29, 33, 62, 82, 17, 63, 44, 23, 44, 51, 76, 72, 70, 84, 36, 64, 41, 72, 26, 35, 86, 59, 27, 80, 57, 14, 49, 26, 46, 72, 23, 32, 71, 56, 36, 47, 88, 89, 13, 78, 26, 41, 75, 42, 62, 17, 40, 80, 67, 86, 64, 80, 84, 17, 47, 65, 73, 71, 85, 14, 88, 81, 34, 44, 82, 16, 70, 24, 32]
#memoria = [314, 195, 187, 105, 112, 240, 284, 193, 346, 311, 345, 356, 209, 395, 176, 267, 105, 344, 176, 341, 314, 148, 343, 287, 295, 345, 158, 197, 134, 385, 224, 131, 283, 189, 309, 176, 234, 217, 162, 284, 322, 105, 157, 151, 273, 303, 212, 343, 319, 395, 132, 384, 183, 373, 274, 176, 324, 302, 160, 140, 358, 129, 287, 224, 252, 362, 400, 198, 350, 146, 208, 237, 159, 315, 202, 313, 239, 300, 387, 322, 235, 174, 385, 149, 365, 118, 389, 130, 299, 284, 380, 369, 160, 313, 272, 173, 294, 395, 354, 319, 381, 191, 197, 341, 189, 315, 353, 129, 245, 132, 294, 141, 238, 270, 239, 109, 288, 249, 130, 183, 175, 218, 206, 381, 354, 181, 123, 390, 160, 270, 352, 291, 124, 249, 138, 334, 128, 114, 257, 351, 337, 305, 349, 361, 157, 399, 395, 342, 191, 147, 382, 238, 171, 194, 116, 258, 365, 196, 206, 392, 261, 118, 161, 252, 322, 382, 235, 339, 303, 334, 349, 283, 293, 377, 369, 320, 312, 299, 193, 349, 349, 329, 397, 375, 107, 274, 356, 154, 398, 194, 331, 213, 287, 374, 284, 123, 153, 140, 303, 387, 355, 303, 144, 221, 397, 177, 335, 164, 348, 171, 322, 196, 265, 303, 196, 318, 391, 149, 193, 137, 366, 152, 121, 213, 282, 278, 371, 305, 259, 309, 165, 320, 371, 124, 200, 312, 215, 134, 187, 372, 362, 132, 295, 354, 184, 203, 266, 313, 170, 247, 370, 166, 370, 281, 370, 374, 128, 208, 311, 188, 310, 307, 263, 299, 333, 127, 166, 253, 337, 177, 163, 164, 190, 227, 367, 160, 127, 356, 193, 206, 181, 327, 220, 178, 278, 157, 148, 227, 284, 353, 181, 115, 267, 187, 261, 343, 396, 238, 242, 325, 140, 345, 330, 245, 342, 277, 203, 303, 381, 354, 243, 212, 237, 112, 272, 181, 132, 305, 162, 245, 299, 248, 283, 183, 198, 176, 392, 256, 295, 126, 345, 370, 316, 118, 350, 163, 282, 276, 137, 140, 377, 381, 305, 285, 293, 353, 233, 392, 137, 294, 347, 110, 228, 341, 138, 205, 128, 221, 261, 137, 142, 211, 197, 324, 398, 268, 394, 399, 280, 389, 275, 389, 275, 383, 280, 169, 159, 363, 305, 111, 216, 200, 232, 116, 373, 123, 248, 242, 153, 133, 228, 233, 246, 172, 359, 303, 394, 306, 222, 376, 175, 267, 238, 201, 174, 243, 376, 396, 133, 125, 350, 116, 387, 195, 283, 112, 267, 289, 306, 332, 213, 262, 349, 249, 165, 180, 368, 111, 379, 355, 142, 297, 334, 228, 321, 250, 210, 360, 339, 169, 245, 220, 204, 219, 213, 146, 301, 180, 209, 171, 348, 199, 203, 112, 120, 246, 346, 336, 200, 374, 265, 257, 236, 140, 311, 311, 400, 204, 320, 361, 234, 119, 327, 321, 310, 353, 116, 217, 112, 397, 344, 230, 399, 318, 303, 336, 321, 305, 359, 237, 236, 246, 154, 355, 120, 353, 188, 283, 356, 201, 396, 295, 130, 354, 392, 377, 337, 259, 269, 251, 314, 324, 298, 177, 342, 347, 320, 163, 174, 100, 332, 156, 309, 243, 379, 299, 308, 284, 150, 106, 190, 264, 270, 199, 127, 126, 188, 261, 186, 152, 244, 245, 290, 349, 392, 320, 120, 327, 285, 218, 172, 364, 108, 154, 250, 292, 230, 362, 130, 274, 151, 119, 313, 345, 151, 103, 160, 351, 280, 215, 216, 383, 251, 181, 194, 281, 251, 267, 289, 160, 382, 307, 352, 388, 106, 160, 249, 326, 145, 384, 365, 322, 328, 102, 394, 231, 195, 115, 229, 229, 328, 343, 278, 131, 326, 265, 398, 283, 390, 155, 121, 307, 125, 211, 103, 375, 131, 385, 188, 276, 153, 364, 208, 291, 209, 140, 195, 217, 398, 151, 206, 389, 302, 233, 272, 189, 195, 344, 119, 369, 292, 158, 106, 390, 240, 328, 120, 293, 369, 385, 396, 247, 193, 384, 262, 114, 399, 317, 357, 152, 378, 275, 111, 251, 151, 332, 170, 352, 161, 170, 355, 282, 170, 282, 398, 110, 111, 109, 362, 137, 232, 326, 297, 270, 376, 137, 262, 364, 376, 108, 188, 371, 400, 142, 113, 106, 346, 224, 125, 319, 244, 386, 335, 236, 267, 362, 122, 196, 276, 130, 356, 341, 108, 185, 129, 274, 382, 363, 231, 265, 285, 150, 304, 122, 304, 128, 159, 334, 260, 125, 283, 220, 183, 115, 392, 148, 136, 197, 168, 141, 298, 305, 189, 199, 384, 327, 138, 200, 366, 322, 365, 115, 156, 131, 293, 190, 152, 160, 237, 109, 159, 224, 253, 124, 219, 193, 202, 392, 234, 287, 145, 365, 387, 342, 158, 286, 323, 110, 388, 305, 274, 372, 348, 319, 331, 355, 183, 248, 371, 134, 253, 187, 206, 329, 314, 209, 364, 238, 100, 287, 212, 179, 215, 195, 385, 125, 100, 384, 259, 289, 170, 279, 376, 207, 165, 186, 191, 237, 351, 105, 321, 208, 390, 327, 242, 261, 304, 300, 334, 376, 102, 129, 212, 196, 148, 187, 122, 155, 324, 270, 174, 159, 309, 312, 125, 399, 159, 157, 339, 202, 263, 208, 313, 202, 302, 360, 165, 284, 345, 153, 283, 193, 266, 269, 321, 124, 125, 378, 126, 328, 116, 331, 366, 382, 113, 140, 321, 371, 190, 237, 117, 358, 241, 207, 238, 199, 391, 265, 374, 228, 156, 150, 225, 165, 289, 113, 349, 391, 375, 384, 215, 129, 129, 275, 386, 222, 225, 345, 225, 135, 168, 142, 330, 304, 199, 313, 219, 289, 188, 315, 382, 371, 348, 342, 202, 354, 254, 220, 190, 317, 284, 154, 208, 148, 103, 170, 309, 207, 303, 144, 398, 224, 280, 326, 265, 183, 286, 237, 374, 387, 153, 115, 284, 166, 313, 124, 384, 367, 306, 349, 353, 281, 271, 153, 194, 271, 140, 174, 311, 195, 183, 273, 262, 145, 277, 218, 117, 306, 360, 294, 236, 334, 372, 172, 265, 149, 394, 181, 393, 174, 269, 179, 369, 210, 284, 374, 396, 121, 164, 121]

# Llamar a la función con las listas definidas
#primer_ajuste(procesos, memoria)